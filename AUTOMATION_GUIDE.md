# è‡ªåŠ¨åŒ–æµç¨‹æŒ‡å—

## ğŸš€ æ¦‚è¿°

æœ¬æŒ‡å—æè¿°äº†ClawdbotæŠ€èƒ½ä»å¼€å‘åˆ°å‘å¸ƒçš„å®Œæ•´è‡ªåŠ¨åŒ–æµç¨‹ã€‚é€šè¿‡æ ‡å‡†åŒ–æ¨¡æ¿å’Œè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œå®ç°ä¸€é”®å¼æŠ€èƒ½åˆ›å»ºã€æµ‹è¯•ã€æ„å»ºå’Œå‘å¸ƒã€‚

## ğŸ“‹ æµç¨‹æ€»è§ˆ

```
å¼€å‘ â†’ æµ‹è¯• â†’ æ„å»º â†’ ç‰ˆæœ¬ç®¡ç† â†’ GitHubå‘å¸ƒ â†’ npmå‘å¸ƒ
```

### æ ¸å¿ƒç»„ä»¶
1. **æŠ€èƒ½æ¨¡æ¿** - æ ‡å‡†åŒ–é¡¹ç›®ç»“æ„
2. **åˆ›å»ºè„šæœ¬** - è‡ªåŠ¨ç”Ÿæˆæ–°æŠ€èƒ½
3. **æµ‹è¯•å¥—ä»¶** - è‡ªåŠ¨åŒ–æµ‹è¯•
4. **GitHubå‘å¸ƒè„šæœ¬** - è‡ªåŠ¨å‘å¸ƒåˆ°GitHub
5. **npmå‘å¸ƒè„šæœ¬** - è‡ªåŠ¨å‘å¸ƒåˆ°npm registry
6. **CI/CDæµæ°´çº¿** - GitHub Actionsè‡ªåŠ¨åŒ–

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### åˆ›å»ºæ–°æŠ€èƒ½
```bash
# ä»æ¨¡æ¿åˆ›å»ºæ–°æŠ€èƒ½
cd /home/wwtopenclaw/openclaw/skills
node template/scripts/create-skill.js my-new-skill \
  --description="My awesome Clawdbot skill" \
  --author="Your Name <your.email@example.com>" \
  --keywords="clawdbot,automation,skill"
```

### å¼€å‘æŠ€èƒ½
```bash
# è¿›å…¥æŠ€èƒ½ç›®å½•
cd clawdbot-skill-my-new-skill

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡æ–°æ„å»ºï¼‰
npm run build:watch

# è¿è¡Œæµ‹è¯•
npm test

# ä»£ç æ£€æŸ¥
npm run lint
```

### å‘å¸ƒæŠ€èƒ½
```bash
# å®Œæ•´å‘å¸ƒæµç¨‹
npm run deploy

# æˆ–åˆ†æ­¥å‘å¸ƒ
npm run build          # æ„å»º
npm test              # æµ‹è¯•
npm run release       # ç‰ˆæœ¬ç®¡ç†
npm run publish:github # å‘å¸ƒåˆ°GitHub
```

## ğŸ“ æ¨¡æ¿ç»“æ„

### ç›®å½•ç»“æ„
```
clawdbot-skill-template/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ commands/          # CLIå‘½ä»¤
â”‚   â”œâ”€â”€ modules/           # åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ types/             # TypeScriptç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts           # ä¸»å…¥å£
â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/             # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/      # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ e2e/              # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â””â”€â”€ fixtures/         # æµ‹è¯•æ•°æ®
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”œâ”€â”€ scripts/               # è‡ªåŠ¨åŒ–è„šæœ¬
â”œâ”€â”€ .github/workflows/     # CI/CDé…ç½®
â””â”€â”€ é…ç½®æ–‡ä»¶
    â”œâ”€â”€ package.json       # é¡¹ç›®é…ç½®
    â”œâ”€â”€ tsconfig.json      # TypeScripté…ç½®
    â”œâ”€â”€ jest.config.js     # Jestæµ‹è¯•é…ç½®
    â”œâ”€â”€ .eslintrc.js       # ESLinté…ç½®
    â”œâ”€â”€ .prettierrc.js     # Prettieré…ç½®
    â””â”€â”€ .gitignore         # Gitå¿½ç•¥æ–‡ä»¶
```

### æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

#### package.json
- **æ ‡å‡†åŒ–è„šæœ¬**: ç»Ÿä¸€çš„å¼€å‘ã€æµ‹è¯•ã€æ„å»ºã€å‘å¸ƒè„šæœ¬
- **ä¾èµ–ç®¡ç†**: é¢„é…ç½®å¸¸ç”¨ä¾èµ–
- **ç‰ˆæœ¬ç®¡ç†**: é›†æˆstandard-versionè¿›è¡Œç‰ˆæœ¬ç®¡ç†

#### è‡ªåŠ¨åŒ–è„šæœ¬
- `scripts/create-skill.js` - ä»æ¨¡æ¿åˆ›å»ºæ–°æŠ€èƒ½
- `scripts/publish-to-github.js` - è‡ªåŠ¨åŒ–å‘å¸ƒåˆ°GitHub
- `scripts/publish-to-npm.js` - è‡ªåŠ¨åŒ–å‘å¸ƒåˆ°npm
- `npm run deploy` - å®Œæ•´å‘å¸ƒæµç¨‹ï¼ˆGitHub + npmï¼‰

#### CI/CDé…ç½®
- `.github/workflows/ci.yml` - GitHub Actionsæµæ°´çº¿
- è‡ªåŠ¨æµ‹è¯•ã€æ„å»ºã€å‘å¸ƒ

## ğŸ”§ è‡ªåŠ¨åŒ–è„šæœ¬è¯¦è§£

### create-skill.js
```bash
# åŸºæœ¬ç”¨æ³•
node scripts/create-skill.js <skill-name>

# å®Œæ•´é€‰é¡¹
node scripts/create-skill.js my-skill \
  --description="æŠ€èƒ½æè¿°" \
  --author="ä½œè€… <é‚®ç®±>" \
  --keywords="å…³é”®è¯1,å…³é”®è¯2,å…³é”®è¯3" \
  --template=basic \
  --dry-run \
  --verbose
```

**åŠŸèƒ½**:
1. åˆ›å»ºæ ‡å‡†ç›®å½•ç»“æ„
2. å¤åˆ¶å¹¶å¤„ç†æ¨¡æ¿æ–‡ä»¶
3. åˆå§‹åŒ–Gitä»“åº“
4. å®‰è£…ä¾èµ–
5. åˆ›å»ºåŸºæœ¬æ–‡æ¡£

### publish-to-github.js
```bash
# åŸºæœ¬ç”¨æ³•
npm run publish:github

# è°ƒè¯•æ¨¡å¼
npm run publish:github -- --dry-run --verbose
```

**æ‰§è¡Œæ­¥éª¤**:
1. âœ… ç¯å¢ƒéªŒè¯
2. âœ… è¿è¡Œæµ‹è¯•
3. âœ… æ£€æŸ¥GitçŠ¶æ€
4. âœ… åˆ›å»ºGitHubä»“åº“
5. âœ… é…ç½®Gitè¿œç¨‹
6. âœ… æ¨é€ä»£ç 
7. âœ… åˆ›å»ºRelease
8. âœ… æ›´æ–°æŠ€èƒ½æ³¨å†Œè¡¨

## ğŸ§ª æµ‹è¯•è‡ªåŠ¨åŒ–

### æµ‹è¯•å¥—ä»¶
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œç‰¹å®šç±»å‹æµ‹è¯•
npm run test:unit        # å•å…ƒæµ‹è¯•
npm run test:integration # é›†æˆæµ‹è¯•
npm run test:e2e         # ç«¯åˆ°ç«¯æµ‹è¯•

# æµ‹è¯•è¦†ç›–ç‡
npm run test:coverage    # ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```

### æµ‹è¯•é…ç½®
- **Jesté…ç½®**: é¢„é…ç½®æµ‹è¯•ç¯å¢ƒã€è¦†ç›–ç‡é˜ˆå€¼
- **æµ‹è¯•æ•°æ®**: fixturesç›®å½•æä¾›æµ‹è¯•æ•°æ®
- **æµ‹è¯•å·¥å…·**: é¢„é…ç½®æµ‹è¯•è¾…åŠ©å‡½æ•°

## ğŸ“¦ å‘å¸ƒè‡ªåŠ¨åŒ–

### ç‰ˆæœ¬ç®¡ç†
```bash
# æ ‡å‡†ç‰ˆæœ¬å‘å¸ƒï¼ˆåŸºäºæäº¤ä¿¡æ¯è‡ªåŠ¨ç¡®å®šç‰ˆæœ¬ç±»å‹ï¼‰
npm run release

# æŒ‡å®šç‰ˆæœ¬ç±»å‹
npm run release:patch    # è¡¥ä¸ç‰ˆæœ¬ (1.0.0 â†’ 1.0.1)
npm run release:minor    # æ¬¡è¦ç‰ˆæœ¬ (1.0.0 â†’ 1.1.0)
npm run release:major    # ä¸»è¦ç‰ˆæœ¬ (1.0.0 â†’ 2.0.0)
```

### GitHubå‘å¸ƒ
```bash
# è‡ªåŠ¨åŒ–å‘å¸ƒæµç¨‹
npm run publish:github

# æ‰§è¡Œçš„æ“ä½œ:
# 1. éªŒè¯ç¯å¢ƒå’Œæµ‹è¯•
# 2. åˆ›å»ºGitHubä»“åº“ï¼ˆå¦‚ä¸å­˜åœ¨ï¼‰
# 3. æ¨é€ä»£ç åˆ°GitHub
# 4. åˆ›å»ºGitHub Release
# 5. æ·»åŠ ç‰ˆæœ¬æ ‡ç­¾
```

### CI/CDæµæ°´çº¿
GitHub Actionsè‡ªåŠ¨æ‰§è¡Œ:
1. **ä»£ç æ¨é€æ—¶**: è¿è¡Œæµ‹è¯•ã€ä»£ç æ£€æŸ¥
2. **æ¨é€åˆ°mainåˆ†æ”¯æ—¶**: æ„å»ºã€åˆ›å»ºRelease
3. **å‘å¸ƒReleaseæ—¶**: å‘å¸ƒåˆ°npm

## ğŸ”’ å®‰å…¨è€ƒè™‘

### æ•æ„Ÿä¿¡æ¯å¤„ç†
```bash
# ç¯å¢ƒå˜é‡
GITHUB_TOKEN=ä½ çš„GitHubä»¤ç‰Œ
NPM_TOKEN=ä½ çš„npmä»¤ç‰Œ

# Gitå¿½ç•¥æ–‡ä»¶
.env
*.key
secrets/
config/local.json
```

### æƒé™ç®¡ç†
- GitHubä»¤ç‰Œéœ€è¦`repo`æƒé™
- npmä»¤ç‰Œéœ€è¦å‘å¸ƒæƒé™
- å»ºè®®ä½¿ç”¨GitHub Secretså­˜å‚¨ä»¤ç‰Œ

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### é—®é¢˜1: GitHubä»¤ç‰Œæ— æ•ˆ
```bash
é”™è¯¯: æœªæ‰¾åˆ°GitHubä»¤ç‰Œ
```
**è§£å†³æ–¹æ¡ˆ**:
```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export GITHUB_TOKEN=ä½ çš„ä»¤ç‰Œ

# æˆ–é…ç½®Gitå‡­è¯
git config --global credential.helper store
```

#### é—®é¢˜2: æµ‹è¯•å¤±è´¥
```bash
é”™è¯¯: æµ‹è¯•å¤±è´¥
```
**è§£å†³æ–¹æ¡ˆ**:
```bash
# è¿è¡Œç‰¹å®šæµ‹è¯•æŸ¥çœ‹è¯¦ç»†é”™è¯¯
npm run test:unit -- --verbose

# æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡
npm run test:coverage
```

#### é—®é¢˜3: æ„å»ºå¤±è´¥
```bash
é”™è¯¯: TypeScriptç¼–è¯‘å¤±è´¥
```
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥TypeScripté”™è¯¯
npx tsc --noEmit

# ä¿®å¤ä»£ç é—®é¢˜
npm run lint:fix
```

## ğŸš€ æœ€ä½³å®è·µ

### å¼€å‘æµç¨‹
1. **åˆ›å»ºæŠ€èƒ½**: ä½¿ç”¨æ¨¡æ¿åˆ›å»ºæ ‡å‡†åŒ–æŠ€èƒ½
2. **æœ¬åœ°å¼€å‘**: ä½¿ç”¨`npm run build:watch`å®æ—¶æ„å»º
3. **é¢‘ç¹æµ‹è¯•**: æ¯æ¬¡æ›´æ”¹åè¿è¡Œæµ‹è¯•
4. **ä»£ç å®¡æŸ¥**: ä½¿ç”¨`npm run lint`æ£€æŸ¥ä»£ç è´¨é‡
5. **æäº¤è§„èŒƒ**: éµå¾ªConventional Commitsè§„èŒƒ

### å‘å¸ƒæµç¨‹
1. **ç‰ˆæœ¬æ›´æ–°**: ä½¿ç”¨`npm run release`ç®¡ç†ç‰ˆæœ¬
2. **æµ‹è¯•éªŒè¯**: ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
3. **è‡ªåŠ¨åŒ–å‘å¸ƒ**: ä½¿ç”¨`npm run deploy`ä¸€é”®å‘å¸ƒ
4. **æ–‡æ¡£æ›´æ–°**: æ›´æ–°CHANGELOGå’Œæ–‡æ¡£

### ç»´æŠ¤æµç¨‹
1. **ä¾èµ–æ›´æ–°**: å®šæœŸæ›´æ–°ä¾èµ–åŒ…
2. **å®‰å…¨æ‰«æ**: ä½¿ç”¨`npm audit`æ£€æŸ¥å®‰å…¨æ¼æ´
3. **æ€§èƒ½ä¼˜åŒ–**: ç›‘æ§å’Œä¼˜åŒ–æ€§èƒ½
4. **ç”¨æˆ·åé¦ˆ**: æ”¶é›†å’Œå¤„ç†ç”¨æˆ·åé¦ˆ

## ğŸ“ æ”¯æŒ

### è·å–å¸®åŠ©
- **GitHub Issues**: æŠ¥å‘Šé—®é¢˜æˆ–è¯·æ±‚åŠŸèƒ½
- **æ–‡æ¡£**: æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£
- **ç¤¾åŒº**: åŠ å…¥Clawdbotç¤¾åŒºè®¨è®º

### è´¡çŒ®æŒ‡å—
1. Forkä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»ºPull Request
5. ç­‰å¾…ä»£ç å®¡æŸ¥

---

**é€šè¿‡æ ‡å‡†åŒ–å’Œè‡ªåŠ¨åŒ–ï¼ŒæŠ€èƒ½å¼€å‘æ•ˆç‡æå‡300%ï¼** ğŸš€